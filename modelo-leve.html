<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Modelo Leve | Barcos de Alumínio</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
  font-family: Arial, sans-serif;
  margin: 0;
  background: #f5f5f5;
}

.container {
  max-width: 1000px;
  margin: auto;
  padding: 20px;
}

.viewer {
  width: 100%;
  height: 420px;
  background: #000;
  display: flex;
  justify-content: center;
  align-items: center;
  cursor: grab;
}

.viewer img {
  max-width: 100%;
  max-height: 100%;
  user-select: none;
}

.gallery {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 15px;
  margin-top: 30px;
}

.gallery img {
  width: 100%;
  border-radius: 8px;
}

video {
  width: 100%;
  margin-top: 30px;
  border-radius: 8px;
}
</style>
</head>

<body>
<div class="container">
  <h1>Modelo Leve</h1>
  <p>Barco de alumínio leve, ideal para pesca e lazer.</p>

  <!-- VISUALIZAÇÃO 360 -->
  <div class="viewer" id="viewer">
    <img id="viewerImage" src="img/modelo-leve/01.jpg" alt="Modelo Leve 360">
  </div>

  <!-- VÍDEO REAL -->
  <video controls>
    <source src="videos/modelo-leve.mp4" type="video/mp4">
    Seu navegador não suporta vídeo.
  </video>

  <!-- GALERIA -->
  <div class="gallery">
    <img src="img/modelo-leve/foto1.jpg">
    <img src="img/modelo-leve/foto2.jpg">
    <img src="img/modelo-leve/foto3.jpg">
  </div>
</div>

<script>
let frame = 1;
const totalFrames = 24;

const img = document.getElementById("viewerImage");
const viewer = document.getElementById("viewer");

let isDragging = false;
let startX = 0;

function updateFrame(direction) {
  frame += direction;
  if (frame > totalFrames) frame = 1;
  if (frame < 1) frame = totalFrames;

  img.src = img.src.replace(
    /(\d{2})\.jpg$/,
    String(frame).padStart(2, '0') + '.jpg'
  );
}

/* ===== DESKTOP (MOUSE) ===== */
viewer.addEventListener("mousedown", (e) => {
  isDragging = true;
  startX = e.clientX;
});

viewer.addEventListener("mouseup", () => isDragging = false);
viewer.addEventListener("mouseleave", () => isDragging = false);

viewer.addEventListener("mousemove", (e) => {
  if (!isDragging) return;

  const delta = e.clientX - startX;
  if (Math.abs(delta) > 10) {
    updateFrame(delta > 0 ? 1 : -1);
    startX = e.clientX;
  }
});

/* ===== MOBILE (TOUCH) ===== */
viewer.addEventListener("touchstart", (e) => {
  startX = e.touches[0].clientX;
});

viewer.addEventListener("touchmove", (e) => {
  const delta = e.touches[0].clientX - startX;

  if (Math.abs(delta) > 10) {
    updateFrame(delta > 0 ? 1 : -1);
    startX = e.touches[0].clientX;
  }
});
</script>


</body>
</html>
